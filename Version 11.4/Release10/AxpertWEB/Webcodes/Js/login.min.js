/*https://web.agile-labs.com/minZIP/*//*version=3.9.1*/function _createForOfIteratorHelper(e,a){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||a&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){l=!0,n=e},f:function(){try{i||null==t["return"]||t["return"]()}finally{if(l)throw n}}}}function _unsupportedIterableToArray(e,a){if(e){if("string"==typeof e)return _arrayLikeToArray(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,a):void 0}}function _arrayLikeToArray(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=e[t];return r}var arrProjects=new Array,arrLangs=new Array,appUrl="",errField="",browserElapsTime=0,proj="",language="english",_langSettingEnabled="false",_isOtpAuth=!1,myVersionJSON;function GetSchemaDetails(){var e=document.getElementById("AxRegId").value;try{ASB.WebService.GetSchemas(e,SucceededCallback)}catch(a){}}function SucceededCallback(e,a){var t=e.split("~"),r=$j("#AxSchema");if(1!=t.length||""!=t[0]){r.empty();for(var o=0;o<t.length;o++)if(""!=t[o]){var n,i=t[o].split("^");n="<option value='"+i[0]+"'>"+i[1]+"</option>",r.append(n)}1==t.length&&(r[0].selectedIndex=0),$j("#hdnApp").val(r.find("option:selected").text())}}function CheckIsulmtUser(){var e=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/")),a="undefined"!=typeof localStorage["unlmtUsername-"+e]?localStorage["unlmtUsername-"+e]:"";return $j("#axSelectProj").val()==a&&!isMobile}function CheckWindowsBtn(){var e=chkLoginForm();0!=e&&e!=undefined&&$("#WindowCloneBtn").click()}function CheckWindowsBtnUser(){$("#hdnWSSoBtn").val("true"),chkNextForm()&&$("#WindowCloneBtnOld").click()}function chkLoginForm(){if(GetCurrentTime("Login"),proj=$j("#axSelectProj").val(),null==$j("#axLanguage").val()&&$j("#axLanguage").val()==undefined||(language=$j("#axLanguage").val().toLowerCase()),$("#hdnProjName").val(proj),$("#hdnUserName").val($j("#axUserName").val()),$("#hdnProjLang").val(language),$j("#axSelectProj").is(":visible")&&!ValidateProject())return!1;if($j("#axLanguage").is(":visible")&&!ValidateLanguage())return!1;var e=$j("#axSelectProj").is(":visible")&&!$j("#axSelectProj").val()||"select project"==$j("#axSelectProj").val().toLowerCase(),a=$j("#axLanguage").is(":visible")&&!$j("#axLanguage").val();if(e)return showAlertDialog("error",1008,"client"),$j("#axSelectProj").focus(),errField="axSelectProj",!1;if(!usercheck($j("#axUserName").val()))return!1;if(a)return showAlertDialog("error",1009,"client"),$j("#axLanguage").focus(),errField="axLanguage",!1;if(0==e)try{return axAfterInstanceName()}catch(t){if(!CheckIsulmtUser())return GetProcessTime(),$("#browserElapsTime").val(browserElapsTime),!0;if(!CheckIsDuplicateUser())return!1}else{if(!CheckIsulmtUser())return GetProcessTime(),$("#browserElapsTime").val(browserElapsTime),!0;if(!CheckIsDuplicateUser())return!1}}function SetFocus(){$j("#axSelectProj").is(":visible")&&""==$j("#axSelectProj").val()?($j("#axSelectProj").parents(".field-wrapper").addClass("hasValue"),$j("#axSelectProj").focus()):$j("#axUserName").length>0?$j("#axUserName").focus():$j("#axPassword").focus()}function usercheck(e){var a=$j("#axUserName");return""==e?(showAlertDialog("error",1010,"client"),a.val(""),a.focus(),errField="axUserName",!1):alphanumeric(e)?""!=$j("#axPassword").val()||(showAlertDialog("error",1011,"client"),$j("#axPassword").focus(),errField="axPassword",!1):(showAlertDialog("error",1013,"client"),a.val(""),a.focus(),errField="axUserName",!1)}function alphanumeric(e){for(var a=e,t=0;t<a.length;t++){var r=a.charAt(t),o=r.charCodeAt(0);if(!(o>47&&o<58||o>64&&o<91||o>96&&o<123||"_"==r||"-"==r||"."==r||"@"==r))return!1}return!0}function IsValidEmail(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}function ForgotPwd(){if($j("#axSelectProj").is(":visible")&&!ValidateProject())return!1;var e=$j("#txtName").val(),a=$j("#axSelectProj").val();if($j("#axSelectProj").is(":visible")&&!$j("#axSelectProj").val()||"select project"==$j("#axSelectProj").val().toLowerCase())return showAlertDialog("error",1008,"client"),$j("#axSelectProj").focus(),errField="axSelectProj",!1;if(!e)return showAlertDialog("error",1010,"client"),$j("#txtName").focus(),errField="txtName",!1;var t=$j("#txtMl");return null==t.val()||""==t.val()?(showAlertDialog("error",1015,"client"),t.focus(),errField="txtMl",!1):IsValidEmail(t.val())?($j("#hdnUsrName").val($j("#txtName").val()),$j("#hdnMl").val($j("#txtMl").val()),$j("#hdnProj").val(a),$j("#btnReset").trigger("click"),$("#txtMl").parents().find(".field-wrapper").addClass("hasValue"),!1):(showAlertDialog("error",1014,"client"),t.focus(),errField="txtMl",!1)}function CheckEmail(e){return new RegExp("^[a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+.[a-zA-Z]{2,4}$").test(e)}function AddLanguages(){var e=[capitalizeFirstLetter(language)];if("true"!=_langSettingEnabled){if($j("#axLanguage").length){$j("#axLangFlddb").hide();o=$j("#hdnLangs").val();if(arrLangs=o.toLowerCase().split(","),$j("#axLanguage").val(""),arrLangs.length<1)$("#axLanguage").select2({data:e}),$j("#axLangFld").hide(),$j("#axLangFld").addClass("hide");else if(1==arrLangs.length){""!=arrLangs[0]?($("#axLanguage").select2({data:arrLangs}),$("#axLanguage").trigger("change"),$j("#axLangFld").hide(),$j("#axLangFld").addClass("hide")):($("#axlanguage").select2({data:e}),$("#axLanguage").trigger("change"),$j("#axLangFld").hide(),$j("#axLangFld").addClass("hide"));try{"undefined"!=typeof Storage&&localStorage.removeItem("langInfo-"+appUrl)}catch(i){}}else{$j("#axLangFld").show(),$j("#axLangFld").removeClass("hide"),$("#axLanguage option[value='english']").remove();var a=arrLangs.map(capitalizeFirstLetter);$("#axLanguage").select2({data:a});r="";try{"undefined"!=typeof Storage&&void 0===(r=localStorage["langInfo-"+appUrl])&&(r="")}catch(i){}if(""!=r&&arrLangs.indexOf(r.toLowerCase())>-1&&$j("#axLanguage").length>0){var t=arrLangs.indexOf(r.toLowerCase());$j("#axLanguage").val(capitalizeFirstLetter(arrLangs[t])).trigger("change")}else try{$j("#axLanguage").val(capitalizeFirstLetter(arrLangs[0])).trigger("change")}catch(l){$j("#axLanguage").val(capitalizeFirstLetter(arrLangs[0])).trigger("change")}}}}else{$j("#axLangFld").hide(),$j("#axLangFlddb").show(),bindLang();var r="";try{"undefined"!=typeof Storage&&void 0===(r=localStorage["langInfo-"+appUrl])&&(r="")}catch(i){}var o=$j("#hdnLangs").val();if(arrLangs=o.toLowerCase().split(","),""!=r&&arrLangs.indexOf(r.toLowerCase())>-1&&$j("#axLanguagedb").length>0){var n=arrLangs.indexOf(r.toLowerCase());$j("#axLanguagedb").append('<option value="'+capitalizeFirstLetter(arrLangs[n])+'" selected="selected">'+capitalizeFirstLetter(arrLangs[n])+"</option>")}else try{$j("#axLanguagedb").append('<option value="'+capitalizeFirstLetter(arrLangs[0])+'" selected="selected">'+capitalizeFirstLetter(arrLangs[0])+"</option>")}catch(l){$j("#axLanguagedb").append('<option value="'+capitalizeFirstLetter(arrLangs[0])+'" selected="selected">'+capitalizeFirstLetter(arrLangs[0])+"</option>")}}}$j(document).ready(function(){var e;$("a[title ~= 'BotDetect']").removeAttr("style"),$("a[title ~= 'BotDetect']").removeAttr("href"),$("a[title ~= 'BotDetect']").css("visibility","hidden"),$("#txtMl").focusout(function(){$("#txtMl").parents().find(".field-wrapper").addClass("hasValue")}),"undefined"!=typeof keepMeAutoLogin&&"true"==keepMeAutoLogin&&$(".page-loader-wrapper").show();try{GetLoginErrorMsg()}catch(n){}try{axBeforePageload()}catch(n){}if("undefined"!=typeof axOktaSessionInit&&"undefined"!=typeof axOktaSessionValidate&&"undefined"!=typeof axOktaLogin&&"undefined"!=typeof oktadomain&&""!=oktadomain)try{axOktaSessionInit()}catch(n){}try{axLoginLoadStart()}catch(n){}if(appUrl=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/")),"undefined"!=typeof Storage){try{history.length<=2&&localStorage["hybridGUID-"+appUrl]&&localStorage.removeItem("hybridGUID-"+appUrl),history.length<=2&&localStorage["hybridDeviceId-"+appUrl]&&localStorage.removeItem("hybridDeviceId-"+appUrl)}catch(n){}try{hybridGUID?(localStorage["hybridGUID-"+appUrl]=hybridGUID,$j("#hdnHybridGUID").val(hybridGUID)):localStorage["hybridGUID-"+appUrl]&&(hybridGUID=localStorage["hybridGUID-"+appUrl],$j("#hdnHybridGUID").val(hybridGUID)),hybridDeviceId?(hybridDeviceId=sanitizeInput(hybridDeviceId),localStorage["hybridDeviceId-"+appUrl]=hybridDeviceId,$j("#hdnHybridDeviceId").val(hybridDeviceId)):localStorage["hybridDeviceId-"+appUrl]&&(hybridDeviceId=localStorage["hybridDeviceId-"+appUrl],hybridDeviceId=sanitizeInput(hybridDeviceId),$j("#hdnHybridDeviceId").val(hybridDeviceId))}catch(n){}try{localStorage.removeItem("duplicateUser-"+appUrl),localStorage.removeItem("instanceName-"+appUrl)}catch(n){}}setGlobalTheme(),void 0!==$("#SigninTemplate").html()&&""!=$("#SigninTemplate").html().trim()&&($("template.templateAgContent").prev().is(".templateRendered")||renderTemplete("template.templateAgContent"),setTimeout(function(){$(".axCustomLoginControl").each(function(e,a){var t=$(a).data("id");if(t){var r=$("#".concat(t));r&&($(a).is("input:text,input:password,select")?($(a).val(r.val()),$(a).off("keyup.custom,change.custom").on("keyup.custom,change.custom",function(e){e.preventDefault(),e.stopPropagation(),r.val($(a).val()).trigger(e.type)})):$(a).is("input:checkbox")?($(a).prop("checked",r.prop("checked")),$(a).off("change.custom").on("change.custom",function(e){e.preventDefault(),e.stopPropagation(),r.prop("checked",$(a).prop("checked")).trigger(e.type)})):$(a).is("a,button")&&$(a).off("click.custom").on("click.custom",function(e){e.preventDefault(),e.stopPropagation(),r.trigger(e.type)}))}})},0)),$(".field-wrapper .field-placeholder").on("click",function(){$(this).closest(".field-wrapper").find("input").focus()}),$(".field-wrapper input").on("click",function(){$(this).closest(".field-wrapper").addClass("hasValue")}),void 0!==$j("#hdnAxProjs").val()&&(arrProjects=$j("#hdnAxProjs").val().replace("Select Project,","").replace("Select Project","").split(",")),$("#axSelectProj").select2({data:arrProjects}).on("select2:select",function(e){setProjectNeeds($(this).val())}),$("#axSelectProj").trigger("change"),$("#axLanguage option[value='english']").remove();var a=arrLangs.map(capitalizeFirstLetter);$("#axLanguage").select2({data:a}),$("#axSelectProj").on("change",function(e){GetProjLang()}),$("#axSelectProj").css("background-color","#e8f0fe"),$j("#axpertVer").length>0&&getVersionDetails(),AddLanguages(),arrProjects.length<1?$j("#selectProj").hide():1==arrProjects.length&&($j("#axSelectProj").val(arrProjects[0]).parents("field-wrapper").addClass("hasValue"),$j("#selectProj").hide(),setProjectNeeds(arrProjects[0])),$j("#hdnProj").length&&""!=$j("#hdnProj").val()&&$j("#axSelectProj").val($j("#hdnProj").val()).parents("field-wrapper").addClass("hasValue");var t="";try{"undefined"!=typeof Storage&&void 0===(t=localStorage["projInfo-"+appUrl])&&(t="")}catch(i){}if(""!=t&&arrProjects.indexOf(t)>-1&&arrProjects.length>1&&$j("#axSelectProj").length>0?($j("#axSelectProj").val(t).parents("field-wrapper").addClass("hasValue"),$("#axSelectProj").val(t),$("#axSelectProj").trigger("change"),setProjectNeeds(t,!1)):(setProjectImages(t),GetProjLang()),SetFocus(),GetProjCopyRightTxt(),$("#axSelectProj, #axUserName, #axPassword, #axLanguage, #txtName, #txtMl").on("keyup keypress blur change",function(){$(this).attr("id")==errField&&$(this).val()&&(HideErrorMsg(),errField="")}),"undefined"!=typeof isOfficeSSO&&""==isOfficeSSO&&"undefined"!=typeof axOktaSessionInit&&"undefined"!=typeof axOktaSessionValidate&&"undefined"!=typeof axOktaLogin&&"undefined"!=typeof oktadomain&&""!=oktadomain)try{axOktaSessionValidate()}catch(n){}KTApp.init(),$("#axSelectProj, #axUserName, #axPassword, #axLanguage, #txtName, #txtMl").on("keyup",function(){$.trim($(this).val())?$(this).closest(".field-wrapper").addClass("hasValue"):$(this).closest(".field-wrapper").removeClass("hasValue"),$j("#axSelectProj").is(":visible")&&""!=$j("#axSelectProj").val()&&$j("#axSelectProj").closest(".field-wrapper").addClass("hasValue"),$j("#axLanguage").is(":visible")&&""!=$j("#axLanguage").val()&&$j("#axLanguage").closest(".field-wrapper").addClass("hasValue")}),$(".field-wrapper input").each(function(){$.trim($(this).val())?$(this).closest(".field-wrapper").addClass("hasValue"):$(this).closest(".field-wrapper").removeClass("hasValue")}),$j("#hdnMobDevice").val(1==isMobileDevice()?"True":"False"),$j("#hdnTimeZone").val("tz~".concat((null===(e=Intl.DateTimeFormat().resolvedOptions())||void 0===e?void 0:e.timeZone)||"","~").concat((new Date).getTimezoneOffset())),GetBrowserUId(),"true"==_langSettingEnabled&&bindLang(),"undefined"!=typeof keepMeAutoLogin&&"true"==keepMeAutoLogin&&HybridAutoSignin();try{2==performance.navigation.type&&$("#axOTPpwd").length>0&&(window.location.href=window.location.href)}catch(n){window.location.href=window.location.href}try{$("#hdnbtforLogin").val(bst)}catch(n){}try{axLoginLoadFinish()}catch(n){}try{if("undefined"!=typeof onlyssoKey&&""!=onlyssoKey){if("undefined"!=typeof top.window.location.href&&top.window.location.href.toLowerCase().indexOf("workflownotification.aspx")>-1){var r=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/")),o=localStorage["wfamsg-"+r];if(void 0!==o&&""!=o)if(""!=o.split("~")[0])return!1}"windows"==onlyssoKey?($("#divsso").addClass("d-none"),$("#selectProj").addClass("d-none"),$("#axLangFld").addClass("d-none"),$("#hdnWSSoBtn").val("true")):($("#axUserName").parent().addClass("d-none"),$("#btnNext").parents(".flex-column-fluid").addClass("d-none"),$("#divsso").addClass("d-none"),$("#selectProj").addClass("d-none"),$("#axLangFld").addClass("d-none"),"saml"==onlyssoKey?$j("#SamlBtn").click():"office365"==onlyssoKey?$j("#Office365Btn").click():"okta"==onlyssoKey?$j("#OktaBtn").click():"google"==onlyssoKey?$j("#GoogleBtn").click():"facebook"==onlyssoKey?$j("#FacebookBtn").click():"openid"==onlyssoKey&&$j("#OpenIdBtn").click())}}catch(n){}"undefined"!=typeof multipleAccessCode&&"false"!==multipleAccessCode||ShowAccessCode()});var versionInfoFile="../versionInfo.json";function getVersionDetails(){$.ajax({url:versionInfoFile,type:"GET",cache:!1,statusCode:{404:function(){$.getJSON(versionInfoFile,function(e){})}},success:function(e){myVersionJSON={value:e}.value,setVersionInfo()}})}function setVersionInfo(){var e,a="";e=myVersionJSON.version,myVersionJSON.subVersion&&(a="_"+myVersionJSON.subVersion.toString());var t;t="Version "+e+a,$j("#axpertVer").text(t)}function OpenForgotPwd(){var e=$j("#axSelectProj").is(":visible")&&!$j("#axSelectProj").val()||"select project"==$j("#axSelectProj").val().toLowerCase();if(e)return showAlertDialog("error",1008,"client"),$j("#axSelectProj").focus(),errField="axSelectProj",!1;if(0==e&&""==$j("#axSelectProj").val())try{return axAfterInstanceName()}catch(t){return!1}var a=$j("#axSelectProj").val();""!=a&&(window.document.location.href="ForgotPassword.aspx?proj="+a)}function HideErrorMsg(){hideAlertDialog("")}function GetProjLang(){"undefined"!=typeof isUserLang&&""==isUserLang&&(void 0!==(""==$j("#axSelectProj").val()?$("#hdnProjName").val():$j("#axSelectProj").val())&&$.ajax({type:"POST",url:"signin.aspx/GetCurrLang",data:'{name: "'+(""==$j("#axSelectProj").val()?$("#hdnProjName").val():$j("#axSelectProj").val())+'" }',contentType:"application/json; charset=utf-8",dataType:"json",success:OnSuccess,failure:function(e){showAlertDialog("error",e.d)}}))}function GetProjLangsr(){""!=$j("#axSelectProj").val()?""!=$j("#axUserName").val()?$.ajax({type:"POST",url:"signin.aspx/GetCurrLang",data:'{projname: "'+(""==$j("#axSelectProj").val()?$("#hdnProjName").val():$j("#axSelectProj").val())+'",username:"'+$j("#axUserName").val()+'" }',contentType:"application/json; charset=utf-8",dataType:"json",success:OnSuccess,failure:function(e){showAlertDialog("error",e.d)}}):showAlertDialog("error","Please enter your username."):showAlertDialog("error","Please select a project name.")}function OnSuccess(e){var a="";(_langSettingEnabled="false",""!=e.d)&&(a=e.d.split("♣")[0],$j("#hdnLangs").val(a),"true"==e.d.split("♣")[1]&&(_langSettingEnabled="true"));""!=a&&"ENGLISH"!=a.toUpperCase()?($j("#axLangFld").show(),$j("#axLangFld").removeClass("hide")):($j("#axLangFld").hide(),$j("#axLangFld").addClass("hide")),AddLanguages()}function GetProjCopyRightTxt(){""==isPowerBy&&(void 0!==(void 0===$j("#axSelectProj")?$j("#hdnProjName").val():$j("#axSelectProj").val())&&$.ajax({type:"POST",url:"signin.aspx/GetCurrCopyRightTxt",data:'{name: "'+(void 0===$j("#axSelectProj")?$j("#hdnProjName").val():$j("#axSelectProj").val())+'", lang: "'+(""==$j("#hdnLangs").val()?language:$j("#hdnLangs").val())+'" }',contentType:"application/json; charset=utf-8",dataType:"json",success:OnSuccessCopyRight,failure:function(e){showAlertDialog("error",e.d)}}))}function OnSuccessCopyRight(e){""!=e.d&&(copyRightTxt=e.d,$j("#dvCopyRight").html(copyRightTxt))}function ValidateProject(){var e=$j("#axSelectProj").val();try{if(null==e)return $j("#axSelectProj").val(""),showAlertDialog("error",1016,"client"),$j("#axSelectProj").focus(),errField="axSelectProj",!1;if(e.length){var a=!1;for(k in arrProjects)if(arrProjects[k].toLowerCase()==e.toLowerCase()){a=!0;break}if("select project"==e.toLowerCase()||!a)return $j("#axSelectProj").val(""),showAlertDialog("error",1016,"client"),$j("#axSelectProj").focus(),errField="axSelectProj",!1}return!0}catch(t){}}function ValidateLanguage(){var e=$j("#axLanguage").val();if(e.length){var a=!1;for(k in arrLangs)if(arrLangs[k].toLowerCase()==e.toLowerCase()){a=!0;break}if(!a)return $j("#axLanguage").val(""),showAlertDialog("error",1017,"client"),$j("#axLanguage").focus(),errField="axLanguage",!1}return!0}function ValidateLanguagedb(){var e=$j("#axLanguagedb").val();if(null!=e&&e.length){var a=!1;for(k in arrLangs)if(arrLangs[k].toLowerCase()==e.toLowerCase()){a=!0;break}if(!a)return $j("#axLanguagedb").val(""),showAlertDialog("error",1017,"client"),$j("#axLanguagedb").focus(),errField="axLanguagedb",!1}return!0}function createProjectListAutoComplete(){$("#axSelectProj").autocomplete({minLength:0,selectFirst:!0,autoFocus:!0,source:function(e,a){var t=new Array;for(k in arrProjects)arrProjects[k].toLowerCase().indexOf(e.term.toLowerCase())>=0&&t.push(arrProjects[k]);0!=t.length?a($.map(t,function(e){return{label:e,value:e,link:""}})):a([{label:lcm[0],value:a.term,link:""}])},open:function(e,a){var t=$(this).closest(".ui-dialog");t.length>0&&$(".ui-autocomplete.ui-front").zIndex(t.zIndex()+1)},select:function(e,a){if(a.item.label==lcm[0])return $(this).val(""),!1;$(this).val(a.item.label),setProjectNeeds(a.item.label),HideErrorMsg()},forceChange:function(){setProjectNeeds($(this).val())}})}function createLanguageAutoComplete(){$("#axLanguage").autocomplete({minLength:0,selectFirst:!0,autoFocus:!0,source:function(e,a){var t=new Array;for(k in arrLangs)arrLangs[k].toLowerCase().indexOf(e.term.toLowerCase().trim())>=0&&t.push(capitalizeFirstLetter(arrLangs[k]));0!=t.length?a($.map(t,function(e){return{label:e,value:e,link:""}})):a([{label:lcm[0],value:a.term,link:""}])},open:function(e,a){var t=$(this).closest(".ui-dialog");t.length>0&&$(".ui-autocomplete.ui-front").zIndex(t.zIndex()+1)},select:function(e,a){if(a.item.label==lcm[0])return $(this).val(""),!1;$(this).val(a.item.label);try{"undefined"!=typeof Storage&&(localStorage["langInfo-"+appUrl]=a.item.label)}catch(t){}$("#axLanguage").blur()}})}function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}function office365SsoFinalise(e,a,t){void 0!==t&&$("#hdnAxProjs").val(t);var r="";try{r=localStorage.getItem("staySignedIn"),localStorage.removeItem("staySignedIn")}catch(o){}return window.location.href.indexOf("?")>-1?window.location.href=window.location.href+"&ssotype=office365&ismobile="+(1==isMobileDevice()?"True":"False")+"&code="+e+"*$*"+a+"&ssin="+r:window.location.href=window.location.href+"?ssotype=office365&ismobile="+(1==isMobileDevice()?"True":"False")+"&code="+e+"*$*"+a+"&ssin="+r,!1}function oktaSsoFinalise(e,a,t){void 0!==t&&$("#hdnAxProjs").val(t);var r="";try{r=localStorage.getItem("staySignedIn"),localStorage.removeItem("staySignedIn")}catch(o){}return window.location.href.indexOf("?")>-1?window.location.href=window.location.href+"&ssotype=okta&ismobile="+(1==isMobileDevice()?"True":"False")+"&code="+e+"*$*"+a+"&ssin="+r:window.location.href=window.location.href+"?ssotype=okta&ismobile="+(1==isMobileDevice()?"True":"False")+"&code="+e+"*$*"+a+"&ssin="+r,!1}function Office365Init(){"undefined"!=typeof signedin?localStorage.setItem("staySignedIn",signedin.checked):localStorage.setItem("staySignedIn","false"),axOffice365SessionInit(),ssoLogin()}function CheckIsUserLogged(){var isUserLogged=$.confirm({theme:"modern",closeIcon:!1,title:"Security Alert",escapeKey:"buttonB",onContentReady:function(){disableBackDrop("bind")},content:eval(callParent("lcm[311]")),buttons:{buttonA:{text:eval(callParent("lcm[279]")),btnClass:"btn btn-primary",action:function(){$(".jconfirm-buttons button").each(function(){$(this).attr("disabled",!0),$(this).addClass("confdisable")}),$j("#mobDevice").val(1==isMobileDevice()?"True":"False"),$j("#duplicateUser").val("true"),$j("#hbtforDupLogin").val(bst),$j("#btnSubmitUser").click()}},buttonB:{text:eval(callParent("lcm[280]")),btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){window.location.href="./signin.aspx",disableBackDrop("destroy")}}},onOpenBefore:function(){$(".jconfirm-buttons button").each(function(){$(this).addClass("Custom_Case")})}})}function CheckIsDuplicateUser(){var isUserulmt=$.confirm({theme:"modern",closeIcon:!1,title:"Security Alert",escapeKey:"buttonB",onContentReady:function(){disableBackDrop("bind")},content:eval(callParent("lcm[311]")),buttons:{buttonA:{text:eval(callParent("lcm[279]")),btnClass:"btn btn-primary",action:function(){var e=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/"));localStorage.removeItem("unlmtUsername-"+e),GetProcessTime(),$("#browserElapsTime").val(browserElapsTime),$j("#btnSubmit").click()}},buttonB:{text:eval(callParent("lcm[280]")),btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){window.location.href="./signin.aspx",disableBackDrop("destroy")}}},onOpenBefore:function(){$(".jconfirm-buttons button").each(function(){$(this).addClass("Custom_Case")})}})}function SetInstance(e,a,t,r,o){WireElapsTime(o,r);var n=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/"));"true"==t?(localStorage.setItem("duplicateUser-"+n,e+"-"+a),localStorage.setItem("instanceName-"+n,e)):localStorage.setItem("duplicateUser-"+n,e+"-"+a),GetProcessTime(),$("#form2").prepend('<input type="hidden" id="hdnbrowserElapsTime" name="hdnbrowserElapsTime" value="'+browserElapsTime+'" />')}function chkSSOLogin(){$("#axUserName").removeAttr("required"),$("#axPassword").removeAttr("required");var e=$j("#axSelectProj").val();$("#hdnProjName").val(e);var a=$j("#axLanguage").val().toLowerCase();return $("#hdnProjLang").val(a),!0}function SetLoginErrorMsg(e){var a=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/"));localStorage["lnmsg-"+a]=e,top.window.location.href.indexOf("?InternalSSO=")>-1?top.window.location.href=a+"/aspx/signin.aspx":top.window.location.href=top.window.location.href}function GetLoginErrorMsg(){var e=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/")),a=localStorage["lnmsg-"+e];localStorage["lnmsg-"+e]&&localStorage.removeItem("lnmsg-"+e),void 0!==a&&""!=a&&setTimeout(function(){showAlertDialog("error",a)},0)}function HybridAutoSignin(){$("#hdnbtforLogin").val(bst),$j("#axPassword").val(keepMeAutoPwd),$j("#btnSubmit").click()}function setGlobalTheme(){try{var e=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/"));if("undefined"!=typeof axThemeStyleFolder&&""!=axThemeStyleFolder){var a=$("#axGlobalThemeStyle"),t=(new Date).getTime(),r=axThemeStyleFolder.replace(/[^a-zA-Z0-9_\-\/]/g,"");a.replaceWith('<link id="axGlobalThemeStyle" data-themfldr="'.concat(r,'" href="../').concat(r,"/axGlobalThemeStyle.css?v=").concat(t,'" rel="stylesheet" />')),localStorage["axGlobalThemeStyle-"+e]=t,localStorage["axThemeFldr-"+e]=r}else localStorage["axGlobalThemeStyle-"+e]=!1,localStorage.removeItem("axThemeFldr-"+e)}catch(o){}}function sanitizeInput(e){return e.replace(/[^a-zA-Z0-9_\-\/]/g,"")}function setProjectNeeds(e){var a=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1];if(e=sanitizeInput(e),a)try{"undefined"!=typeof Storage&&(localStorage["projInfo-"+appUrl]=e)}catch(o){}var t=$("#customGlobalStyles");if(t&&t.data("proj")!==e){var r="../".concat(e,"/customGlobalStyles.css");$.ajax({url:r,type:"HEAD",success:function(){var a=(new Date).getTime(),r=document.createElement("link");r.id="customGlobalStyles",r.setAttribute("data-proj",e),r.href="../".concat(e,"/customGlobalStyles.css?v=").concat(a),r.rel="stylesheet",t.replaceWith(r),localStorage["customGlobalStylesExist-"+appUrl]=a},error:function(){t.attr("href",""),localStorage["customGlobalStylesExist-"+appUrl]=!1}}),setProjectImages(e)}try{$(["customIviewNewUi","customTstructNewUi","customCard","customAxpertUI","customCompressedTstructUI"]).each(function(a,t){var r="../".concat(e,"/").concat(t,".").concat(t.toLowerCase().includes("ui")?"css":"js");$.ajax({url:r,type:"HEAD",success:function(){var e=(new Date).getTime();localStorage["".concat(t,"Exist-").concat(appUrl)]=e},error:function(){localStorage["".concat(t,"Exist-").concat(appUrl)]=!1}})})}catch(n){}}function setProjectImages(e){var a="../images/loginlogo.png",t="../AxpImages/login-img.png",r="../AxpImages/login-img.png",o=$(".form-title img"),n=$("body"),i=$("body");e?getProjectAppLogo(e,async=!0,function(l){if(null!=l&&l.d){var s=JSON.parse(l.d),c=s.logo,d=s.webbg,u=s.mobbg;d&&!u&&(u=d),o.prop("src",c?"".concat(c,"?v=").concat(e):a),isMobile?i.css("background","url(".concat(u?"".concat(u,"?v=").concat(e):r,"?v=").concat(e,") ").concat(u?"no-repeat center center fixed":"no-repeat fixed bottom")).css("background-size","cover"):n.css("background","url(".concat(d?"".concat(d,"?v=").concat(e):t,") ").concat(d?"no-repeat center center fixed":"no-repeat fixed bottom")).css("background-size","cover")}else o.prop("src",a),isMobile?i.css("background","url(".concat(r,"?v=").concat(e,") no-repeat fixed bottom ")).css("background-size","cover"):n.css("background","url(".concat(t,") no-repeat fixed bottom")).css("background-size","cover")},function(l){o.prop("src",a),isMobile?i.css("background","url(".concat(r,"?v=").concat(e,") no-repeat fixed bottom")).css("background-size","cover"):n.css("background","url(".concat(t,") no-repeat fixed bottom")).css("background-size","cover")}):(o.prop("src",a),isMobile?i.css("background","url(".concat(r,") no-repeat fixed bottom")).css("background-size","cover"):n.css("background","url(".concat(t,") no-repeat fixed bottom")).css("background-size","cover"))}function OpenNewConnection(){var e=$j("#axSelectProj").val();window.document.location.href=""!=e?"Config.aspx?proj="+e:"Config.aspx"}function KeepMeSigninConfirm(e){var a='<div class="container-fluid"><div class="row userNameGroup">';$.each(e.split(","),function(e,t){a+='<div class="userNameList" onclick="loginKeepSigninUser(\''+t+'\');"><span class="material-icons userNameIcon">account_circle</span><span class="userNameText">'+t+"</span></div>"}),a+='<div class="userNameList" onclick="loginKeepSigninUser(\'Loginwithanotheruser\');"><span class="material-icons userNameIcon">person_add_alt</span><span class="userNameText">Login with another user</span></div>',a+="</div></div>";$.confirm({theme:"modern",closeIcon:!1,title:"Select UserName to continue login",escapeKey:"buttonB",onContentReady:function(){disableBackDrop("bind")},boxWidth:"450px",useBootstrap:!1,content:a,buttons:{buttonA:{text:"",btnClass:"d-none"},buttonB:{text:"",btnClass:"d-none"}},onOpenBefore:function(){$(".jconfirm-buttons button").each(function(){$(this).addClass("Custom_Case")})}})}function loginKeepSigninUser(e){if($(".page-loader-wrapper").show(),"Loginwithanotheruser"==e){var a=window.document.location.href;a.indexOf("?")>-1?a+="&keepmesignin=false":a+="?keepmesignin=false",window.document.location.href=a}else $.ajax({url:"Signin.aspx/loginKeepSigninUser",type:"POST",cache:!1,async:!0,data:JSON.stringify({usrName:e,hdnBwsrid:$("#hdnBwsrid").val(),csrfToken:$("#_antiforgery").val()}),dataType:"json",contentType:"application/json",success:function(e){if(""!=e.d){var a=JSON.parse(e.d);""!=a?($j("#axSelectProj").val(a.axSelectProj),$j("#hdnProjName").val(a.axSelectProj),$j("#axLanguage").val(a.axLanguage),$("#hdnProjLang").val(a.axLanguage),$j("#axUserName").val(a.axUserName),$("#hdnPuser").val(a.KeepMeAutoPwd),$j("#hdnLastOpenpage").val(a.hdnLastOpenpage),$("#signedin").prop("checked",a.signedin),$("#hdnbtforLogin").val(bst),""==a.ssotype?$j("#btnSubmit").click():"windows"==a.ssotype?$j("#WindowCloneBtn").click():"saml"==a.ssotype?$j("#SamlBtn").click():"ga"==a.ssotype?$j("#GoogleBtn").click():"fb"==a.ssotype?$j("#FacebookBtn").click():"of365"==a.ssotype?$j("#Office365Btn").click():"ot"==a.ssotype&&$j("#OktaBtn").click()):showAlertDialog("error",callParentNew("lcm")[518])}else showAlertDialog("error",callParentNew("lcm")[518])},error:function(e){showAlertDialog("error",callParentNew("lcm")[518])}})}function KeepSigninWebDetails(){$.ajax({url:"Signin.aspx/KeepSigninWebDetailsNew",type:"POST",cache:!1,async:!0,data:JSON.stringify({hdnBwsrid:$("#hdnBwsrid").val(),csrfToken:$("#_antiforgery").val()}),dataType:"json",contentType:"application/json",success:function(e){if(""!=e.d){var a=JSON.parse(e.d);""!=a&&"undefined"==typeof a.userlist?($j("#axSelectProj").val(a.axSelectProj),$j("#hdnProjName").val(a.axSelectProj),$j("#axLanguage").val(a.axLanguage),$("#hdnProjLang").val(a.axLanguage),$j("#axUserName").val(a.axUserName),$("#hdnPuser").val(a.KeepMeAutoPwd),$j("#hdnLastOpenpage").val(a.hdnLastOpenpage),$("#signedin").prop("checked",a.signedin),$("#hdnbtforLogin").val(bst),""==a.ssotype?$j("#btnSubmit").click():"windows"==a.ssotype?$j("#WindowCloneBtn").click():"saml"==a.ssotype?$j("#SamlBtn").click():"ga"==a.ssotype?$j("#GoogleBtn").click():"fb"==a.ssotype?$j("#FacebookBtn").click():"of365"==a.ssotype?$j("#Office365Btn").click():"ot"==a.ssotype&&$j("#OktaBtn").click()):""!=a&&"undefined"!=typeof a.userlist&&KeepMeSigninConfirm(a.userlist)}},error:function(e){}})}function GetBrowserUId(){import("../ThirdParty/fingerprintjs/FingerprintJS.min.js").then(function(e){return e.load()}).then(function(e){return e.get()}).then(function(e){var a=e.visitorId,t="";jQBrowser.chrome?t="chrome":jQBrowser.safari?t="safari":jQBrowser.opera?t="opera":jQBrowser.mozilla?t="mozilla":jQBrowser.msie?t="msie":jQBrowser.msedge&&(t="msedge"),$("#hdnBwsrid").val(a+"-"+t),"undefined"!=typeof KeepMeAutoLoginWeb&&"true"==KeepMeAutoLoginWeb&&KeepSigninWebDetails()})}function chkLoginFormHiden(){$("#hdnUserName").val($j("#axUserName").val()),""!=$("#hdnWSSoBtn").val()&&"true"==$("#hdnWSSoBtn").val()?($("#hdnWSSoBtn").val(""),$("#WindowCloneBtn").click()):$("#btnSubmit").click()}function chkLoginFormNew(e){if(void 0!==$(e).attr("id")&&"btnSubmit"==$(e).attr("id")&&""!=$("#hdnWSSoBtn").val()&&"true"==$("#hdnWSSoBtn").val())return chkLoginFormHiden(),!1;if(_isOtpAuth)return chkoptauth(),!1;GetCurrentTime("Login"),$("#hdnUserName").val($j("#axUserName").val());try{"undefined"!=typeof Storage&&""!=language&&(localStorage["langInfo-"+appUrl]=language)}catch(e){}if(!usercheckNew())return!1;if(!CheckIsulmtUser()){try{var a=Intl.DateTimeFormat().resolvedOptions().locale,t=Intl.DateTimeFormat().resolvedOptions().timeZone,r=(new Date).toLocaleString().replace(",",""),o=a+"*"+t+"^"+$("#hdnProjLang").val()+"*"+r;$("#hdnClientDt").val(o)}catch(n){}return GetProcessTime(),$("#browserElapsTime").val(browserElapsTime),!0}return!!CheckIsDuplicateUser()&&void 0}function usercheckNew(){return""==$j("#axPassword").val()?(showAlertDialog("error",1011,"client"),$j("#axPassword").focus(),errField="axPassword",!1):(void 0!==$j("#axPassword").val()&&$("#hdnPuser").val($j("#axPassword").val()),!0)}function chkNextForm(){GetCurrentTime("Login");var e=$j("#axSelectProj").val();if($("#hdnProjName").val(e),$("#hdnUserName").val($j("#axUserName").val()),$j("#axSelectProj").is(":visible")&&!ValidateProject())return!1;var a="";if("true"!=_langSettingEnabled){if(null==$j("#axLanguage").val()&&$j("#axLanguage").val()==undefined||(language=$j("#axLanguage").val().toLowerCase()),$("#hdnProjLang").val(language),$j("#axLanguage").is(":visible")&&!ValidateLanguage())return!1;a=$j("#axLanguage").is(":visible")&&!$j("#axLanguage").val()}else{if(null==$j("#axLanguagedb").val()&&$j("#axLanguagedb").val()==undefined||(language=$j("#axLanguagedb").val().toLowerCase()),$("#hdnProjLang").val(language),$j("#axLanguagedb").is(":visible")&&!ValidateLanguagedb())return!1;a=$j("#axLanguagedb").is(":visible")&&!$j("#axLanguagedb").val()}var t=$j("#axSelectProj").is(":visible")&&!$j("#axSelectProj").val()||"select project"==$j("#axSelectProj").val().toLowerCase();if(t)return showAlertDialog("error",1008,"client"),$j("#axSelectProj").focus(),errField="axSelectProj",!1;if(!usercheck($j("#axUserName").val()))return!1;if(a)return showAlertDialog("error",1009,"client"),"true"==_langSettingEnabled?$("#axLanguagedb").focus():$j("#axLanguage").focus(),errField="axLanguage",!1;if(0==t)try{return axAfterInstanceName()}catch(r){if(!CheckIsulmtUser())return GetProcessTime(),$("#browserElapsTime").val(browserElapsTime),!0;if(!CheckIsDuplicateUser())return!1}else{if(!CheckIsulmtUser())return GetProcessTime(),$("#browserElapsTime").val(browserElapsTime),!0;if(!CheckIsDuplicateUser())return!1}}function OpenForgotPwdNew(){var e=$j("#hdnProjName").val();if(""==e)return showAlertDialog("error",1008,"client"),$j("#axSelectProj").focus(),errField="axSelectProj",!1;if(0==e&&""==$j("#hdnProjName").val())try{return axAfterInstanceName()}catch(r){return!1}var a=$j("#hdnProjName").val(),t=$j("#hdnUserName").val();""!=a&&(window.document.location.href="ForgotPassword.aspx?proj="+a+"&uname="+t)}function backToMainDiv(){window.document.location.href=window.document.location.href}function OpenIdProject(){$("#axUserName").removeAttr("required"),$("#axPassword").removeAttr("required");var e=$j("#axSelectProj").val();$("#hdnProjName").val(e),null==$j("#axLanguage").val()&&$j("#axLanguage").val()==undefined||(language=$j("#axLanguage").val().toLowerCase()),$("#hdnProjLang").val(language),$j("#OpenIdBtnclick").click()}function otpExpires(e,a){_isOtpAuth=!0,function(e){var t=new Date(Date.now()+6e4*e),r=document.getElementById("lblotpexpiry");function o(){var e=new Date,o=Math.floor((t-e)/1e3);if(o>0){var i=Math.floor(o/60),l=i<10?"0"+i:i,s=o-60*i,c=s<10?"0"+s:s;r.textContent=""!=a?"OTP will expire in ".concat(l,":").concat(c," min ( ").concat(a,")"):"OTP will expire in ".concat(l,":").concat(c," min (Sent to your registered email)")}else clearInterval(n),r.textContent=""!=a?"OTP has expired ( ".concat(a,")"):"OTP has expired (Sent to your registered email)",$("#btnResendotp").removeClass("d-none")}o();var n=setInterval(o,1e3)}(e)}function chkoptauth(){if(""==$j("#axOTPpwd").val())return showAlertDialog("error",callParentNew("lcm")[530]),$j("#axOTPpwd").focus(),!1;$("#hdnOtpauth").val($j("#axOTPpwd").val()),$.ajax({type:"POST",url:"signin.aspx/chkOtp",data:'{stsotpauth: "'+$("#hdnOtpauth").val()+'",proj:"'+$("#hdnProjName").val()+'",username:"'+$("#hdnUserName").val()+'",csrfToken:"'+$("#_antiforgery").val()+'" }',contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){"success"==e.d?$("#btnOTPLogin").click():"InvalidOTP"==e.d?showAlertDialog("error","Invalid OTP"):"OTPexpired"==e.d?showAlertDialog("error","OTP expired"):"PleaseenterOTP"==e.d&&showAlertDialog("error","Please enter OTP")},failure:function(e){showAlertDialog("error",e.d)}})}function bindLang(){$("#axLanguagedb").select2({ajax:{url:"signin.aspx/Getlang",type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:function(e){return JSON.stringify({proj:""==$j("#axSelectProj").val()?$("#hdnProjName").val():$j("#axSelectProj").val(),username:$j("#axUserName").val(),csrfToken:$("#_antiforgery").val()})},processResults:function(e,a){var t=e.d;if(""!=t&&!t.startsWith("error:"))return t=t.split(","),{results:$.map(t,function(e){if("undefined"==typeof a.term||""==a.term||""!=a.term&&e.toLowerCase().indexOf(a.term.toLowerCase())>=0)return{id:capitalizeFirstLetter(e),text:capitalizeFirstLetter(e)}})};showAlertDialog("error",t)}}}).on("select2:select",function(e){var a=$(this).val();$("#axLanguage").val(a)}).on("select2:unselect",function(e){$("#axLanguage").val("")})}function otpExpiresError(e){"OTP expired."==e&&(document.getElementById("lblotpexpiry").textContent="OTP has expired (Sent to your registered email)");showAlertDialog("error",e),_isOtpAuth=!0}function btnResendOTP(){try{$("#axOTPpwd").attr("required",!1),$("#btnResendOtp").click()}catch(e){}}function SetNextExecTime(e,a){var t=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/"));bst=localStorage["BST-"+t],console.log("SetNextExecTime _serverprocesstime:"+e+" _requestProcess_logtime:"+a+" bst:"+bst),WireElapsTime(e,a)}function ShowAccessCode(){var e=document.getElementById("panelUser"),a=document.getElementById("axSelectProj");if(e&&a){a.parentElement.classList.remove("mb-8");var t=!1,r="";$("#lblslctproj").text("Access Code");var o=document.createElement("input");o.id="newProjectInput",o.type="text",o.placeholder="Enter Access Code",o.classList.add("mt-2","m-wrap","placeholder-no-fix","form-control","form-control-solid");var n=document.querySelector(".select2-selection");n&&n.classList.add("d-none");var i=document.getElementById("lblslctproj");i&&(i.parentElement.classList.remove("d-flex"),i.parentElement.classList.add("d-block"),i.insertAdjacentElement("afterend",o)),o.focus();var l=document.getElementById("axUserName");o.addEventListener("input",function(){var e=this.value.trim().toLowerCase();t=!1;var o,n=_createForOfIteratorHelper(a.options);try{for(n.s();!(o=n.n()).done;){var i=o.value;if(i.value.toLowerCase()===e){t=!0,r=i.value,a.value=i.value,$("#axSelectProj").val(i.value).trigger("change"),setProjectNeeds(r);break}}}catch(l){n.e(l)}finally{n.f()}}),$("#btnNext").on("click",function(e){handleNextAction(e,t),closeToasts()}),o.addEventListener("keypress",function(e){"Enter"===e.key&&(e.preventDefault(),handleNextAction(e,t),closeToasts())}),o.addEventListener("keydown",function(e){"Tab"===e.key&&(e.preventDefault(),l.focus())})}}function closeToasts(){setTimeout(function(){$(".toast-close-button").parent().fadeOut("slow"),$("#toast-container").fadeOut("slow")},2e3)}function handleNextAction(e,a){var t=document.getElementById("newProjectInput"),r=document.getElementById("axUserName"),o=t.value.trim(),n=r.value.trim(),i=document.getElementById("selectProj");if(i&&"none"!==i.style.display){if(!o)return showAlertDialog("error","Please enter a valid Access Code before proceeding."),void t.focus();if(!a)return e.preventDefault(),showAlertDialog("error","Please enter a valid Access Code before proceeding."),void t.focus()}if(!n)return e.preventDefault(),void r.focus()}